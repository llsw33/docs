# SyncoBoard 产品需求文档（PRD）

## 1. 产品定位
SyncoBoard 是面向团队的项目空间系统，整合看板、实时聊天、协作文档与白板。MVP 先实现“看板实时同步 + 聊天实时”，形成完整协作闭环。

## 2. 目标与范围
### 2.1 MVP 目标
- 实现多成员在同一项目内实时看板与聊天协作。
- 在 Web 端提供统一入口、仪表盘、活动流与基础管理。
- 用最少的功能实现“项目创建 → 任务协作 → 讨论沉淀 → 进度复盘”的闭环。

### 2.2 MVP 范围
- 账号体系：注册/登录/刷新 token/退出
- 项目空间：创建/加入/成员管理
- 看板：列/卡片 CRUD + 拖拽
- 实时聊天：项目频道聊天
- Dashboard：项目 KPI 与图表
- 活动流：基础审计事件

## 3. 用户画像
- 角色：项目负责人、成员、管理员
- 核心诉求：任务透明、沟通及时、上下文统一
### 3.1 典型用户旅程
1. 负责人创建项目并邀请成员加入。
2. 负责人新建列与卡片，分配负责人和截止日期。
3. 成员拖拽卡片更新状态并在卡片内评论。
4. 项目频道讨论方案与同步进展。
5. Dashboard 查看项目 KPI 与趋势并复盘。

## 4. 用户故事（MVP）
1. 用户注册/登录/刷新 token/退出
2. 创建项目空间并邀请成员（链接 token）
3. 看板列 + 卡片 CRUD，卡片具备标题、描述、标签、优先级、截止日期、指派人、评论
4. 拖拽：列内/列间拖拽，结果入库并实时广播
5. 聊天：项目频道发送与消息列表，已读/未读（记录最后读时间）
6. Dashboard：卡片数、逾期数、活跃成员数、近 7 天新增卡片折线图
7. 活动流：创建卡片、移动卡片、发表评论、成员加入

## 5. 功能需求拆分
### 5.1 账号与权限
- 注册、登录、刷新 token、退出
- RBAC：未加入项目禁止访问

### 5.2 项目空间
- 创建项目
- 生成邀请链接/邀请码
- 项目成员列表、角色与加入时间

### 5.3 看板
- 列（List）与卡片（Card）
- 拖拽：列内/列间
- 排序位置：position 字段（整数间隔或浮点策略）
- 评论与标签
- 业务规则：
  - 列与卡片名称不能为空，长度限制 1-200 字符
  - 逾期卡片在 UI 中高亮提示

### 5.4 聊天
- 项目频道消息列表
- 发送消息
- 未读计数（基于 last_read_at）
- 消息长度限制 1-2000 字符

### 5.5 Dashboard
- KPI：卡片总数、逾期数、活跃成员数
- 图表：近 7 天新增卡片折线图 + 状态分布饼图/柱状图

### 5.6 活动流
- 事件类型：创建卡片、移动卡片、发表评论、成员加入
- 项目活动页展示
- 支持筛选（事件类型、时间范围）

## 6. 页面与路由
- `/login` 登录页（背景图 + 表单）
- `/app/dashboard` 总览
- `/app/projects` 项目列表
- `/app/projects/:id/board` 看板
- `/app/projects/:id/chat` 聊天
- `/app/projects/:id/activity` 活动流
- `/app/admin/users` 管理员用户管理

## 7. 交互与体验要点
- 统一布局：Header + Sidebar + Main
- 所有列表页支持搜索/筛选
- 空状态具有引导文案与 CTA
- 拖拽后动画反馈与乐观更新
- 关键动作提示：删除、移除成员需二次确认

## 8. 数据指标
- 日活跃用户（DAU）
- 项目内活跃成员数
- 卡片创建量与完成率

## 9. 非功能性目标
- 实时同步延迟 < 500ms（同城条件）
- 支持 100 并发在线成员/项目（MVP）
- 关键接口 P95 响应 < 300ms（不含文件上传）

## 10. 需求优先级（MoSCoW）
- Must：注册/登录、项目、看板、聊天、实时同步、Dashboard、活动流、RBAC
- Should：管理员用户管理、未读提示、邀请链接
- Could：文档/白板协同（阶段二）

## 11. 里程碑
- MVP：看板 + 聊天 + Dashboard + 活动流
- V1：文档/白板协同（Yjs）
